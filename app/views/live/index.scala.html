@(search : String)(implicit request: RequestHeader)

@main {
    <div id="onError" class="alert-message error">
        <p>
            <strong></strong> <span></span>
        </p>
    </div>

    <span>Users connected on live page : <span id="nbConnected">0</span></span>

    Live status :
    <span class="label label-success liveOnAir">On Air <i class="icon-bullhorn"></i></span>
    <span class="label label-important liveOff">Off <i class="icon-ban-circle"></i></span>

    <button type="button" class="btn btn-warning liveOnAir" id="btnStop"><i class="icon-stop"></i></button>
    <button type="button" class="btn btn-success liveOff" id="btnStart"><i class="icon-play"></i></button>

    <p class="muted" onClick="$('#tips').toggle()" style="cursor:pointer" title="click to view help"><span class="label label-info">Tips </span>
        </p>

    <div class="well" id="tips" style="display:none">
        <ul>
            <li>http://&lt;server:port&gt;/live/&lt;search&gt; : use a default search </li>
        </ul>
    </div>

    <table id='datas' class='table table-striped table-bordered table-condensed'>
        <thead>
            <tr>
                <th>State</th>
                <th>Environment</th>
                <th>Sender</th>
                <th>SoapAction</th>
                <th>StartTime</th>
                <th>TimeInMillis</th>
                <th class="narrow">Request</th>
                <th class="narrow">Response</th>
                <th class="narrow">Replay</th>
            </tr>
        </thead>
    </table>

    </div>

    <input type="hidden" id="urlWS" value="@routes.Live.socket().webSocketURL()">
    <input type="hidden" id="search" value="@search">

    <script src="@routes.Assets.at("javascripts/jquery.dataTables.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/dataTable.bootstrap.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("javascripts/soapower/live.js")" type="text/javascript"></script>
}
