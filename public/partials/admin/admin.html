<h2>Admin</h2>
<hr>

<h4>Download Configuration</h4>
<a class="btn" href="{{urlDlConfig}}">Download configuration as csv File</a>

<a href="{{urlDlRequestDataStatsEntries}}" class="btn">Download RequestData Stat Entries as csv File</a>
<hr>

<h4>Upload Configuration</h4>
<p class="muted"><span class="label label-info">Tips </span>
    Download the configuration above to have an example of csv file.</p>

<div class="well">
    <ul>
        <li>A service is identified by localTarget and EnvironmentName. If the service already exist in db, it will be
            ignored (no update)
        </li>
        <li>A environment is identified by his name, if an environment exist in db, it will be ignored</li>
        <li>IDs in csv file uploaded are ignored</li>
        <li>You can upload a RequestData Stats File</li>
    </ul>
</div>

<form action="{{urlUploadConfiguration}}" ng-upload>
    <input type="file" name="fileUploaded"/>
    <input type="submit" value="Upload configuration" class="btn" upload-submit="uploadComplete(content, completed)"/>
</form>

<div class="alert alert-info" ng-show="showUploadRunning">Wait... Uploading.</div>
<div class="alert alert-{{response.code}}" ng-show="showResponseUpload">{{response.text}}</div>

<hr>
<h4>Deleting data</h4>

<form name="myForm" class="form-horizontal" novalidate>

    <div class="control-group">

        <span ng-click="showmindate = !showmindate">
            <label class="control-label"> From : </label>

            <div class="controls">{{mindate | date:'yyyy-MM-dd'}}
                <span class="alert alert-error" ng-show="myForm.mindate.$error.required">Click to select</span>
            </div>

        </span>

        <div ng-show="showmindate">
            <datepicker ng-model="mindate" starting-day="1"></datepicker>
        </div>
        <input name="mindate" type="hidden" ng-model="mindate" required>
    </div>

    <div class="control-group">
        <span ng-click="showmaxdate = !showmaxdate">
        <label class="control-label"> To : </label>
            <div class="controls">{{maxdate | date:'yyyy-MM-dd'}}
                <span class="alert alert-error" ng-show="myForm.maxdate.$error.required">Click to select</span>
            </div>
        </span>

        <div ng-show="showmaxdate">
            <datepicker ng-model="maxdate" starting-day="1"></datepicker>
        </div>
        <input name="maxdate" type="hidden" ng-model="maxdate" required>
    </div>

    <div class="control-group">
        <label class="control-label" for="environment"> Environment : </label>

        <div class="controls">
            <select ng-model="environment" id="environment" ng-required
                    ng-options="environment.name for environment in environments"></select>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label"> Type Action for selected environment between min and max date : </label>

        <div class="controls">
            <label class="radio" ng-class="{checked: typeAction == 'xml-data'}">
                <span class="icons">
                    <span class="first-icon fui-radio-unchecked"></span>
                    <span class="second-icon fui-radio-checked"></span>
                </span>
                <input type="radio" name="typeAction" ng-model="typeAction" value="xml-data"> Only XML Data
            </label>
            <label class="radio" ng-class="{checked: typeAction == 'all-data'}">
                <span class="icons">
                    <span class="first-icon fui-radio-unchecked"></span>
                    <span class="second-icon fui-radio-checked"></span>
                </span>
                <input type="radio" name="typeAction" ng-model="typeAction" value="all-data"> All Data
            </label>
        </div>
    </div>
</form>



