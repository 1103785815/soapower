<form name="myForm" role="form" class="form-horizontal">
    <input class="form-control" type="hidden" name="name" ng-model="environment.id">

    <div class="form-group" ng-class="{error: myForm.group.$invalid}">
        <label for="group" class="col-lg-2 control-label">Group </label>
        <div class="col-lg-4">
            <select class="form-control" ng-model="environment.group" id="group" name="group" ng-options="group.name for group in groups" required ng-selected="{{ environment.groupId == group.id }}"></select>
            <span ng-show="myForm.group.$error.required" class="help-inline">Required</span>
        </div>
    </div>

    <div class="form-group" ng-class="{error: myForm.nameEnv.$invalid}">
        <label for="name" class="col-lg-2 control-label">Name</label>
        <div class="col-lg-4">
            <input class="form-control" type="text" id="name" name="nameEnv" ng-pattern="namePattern" ng-model="environment.name" required>
            <span ng-show="myForm.nameEnv.$error.required" class="help-inline">Required</span>
            <span class="error" ng-show="myForm.nameEnv.$error.pattern">Single word only! </span>
            <span class="help-inline">The name have to match this pattern : [a-zA-Z0-9]{1,200}</span>
        </div>
    </div>

    <div class="form-group" ng-class="{error: myForm.hourRecordXmlDataMin.$invalid}">
        <label for="hourRecordXmlDataMin" class="col-lg-2 control-label">Start Record Hour</label>
        <div class="col-lg-4">
            <input class="form-control" type="number" id="hourRecordXmlDataMin" name="hourRecordXmlDataMin" ng-model="environment.hourRecordXmlDataMin"
                    required>
            <span ng-show="myForm.hourRecordXmlDataMin.$error.required" class="help-inline">Required</span>
        </div>
    </div>

    <div class="form-group" ng-class="{error: myForm.hourRecordXmlDataMax.$invalid}">
        <label for="hourRecordXmlDataMax" class="col-lg-2 control-label">End Record Hour</label>
        <div class="col-lg-4">
            <input class="form-control" type="number" id="hourRecordXmlDataMax" name="hourRecordXmlDataMax" ng-model="environment.hourRecordXmlDataMax"
                    required>
            <span ng-show="myForm.hourRecordXmlDataMax.$error.required" class="help-inline">Required</span>
            <span ng-show="myForm.hourRecordXmlDataMax.$error.url" class="help-inline">Not a URL</span>
        </div>
    </div>

    <div class="form-group" ng-class="{error: myForm.nbDayKeepXmlData.$invalid}">
        <label for="nbDayKeepXmlData" class="col-lg-2 control-label">Xml Data : Nb days keep</label>
        <div class="col-lg-4">
            <input class="form-control" type="number" id="nbDayKeepXmlData" name="nbDayKeepXmlData" ng-model="environment.nbDayKeepXmlData" required>
            <span ng-show="myForm.nbDayKeepXmlData.$error.required" class="help-inline">Required</span>
        </div>
    </div>

    <div class="form-group" ng-class="{error: myForm.nbDayKeepAllData.$invalid}">
        <label for="nbDayKeepAllData" class="col-lg-2 control-label">All Data : Nb days keep</label>
        <div class="col-lg-4">
            <input class="form-control" type="number" id="nbDayKeepAllData" name="nbDayKeepAllData" ng-model="environment.nbDayKeepAllData" required>
            <span ng-show="myForm.nbDayKeepAllData.$error.required" class="help-inline">Required</span>
        </div>
    </div>

    <div class="form-group">
        <div class="col-lg-4">
            <label class="control-label"> Record Xml Data, Check this if you want to record Xml Request and Xml Response for
                ALL services attached to this environment: </label>
            </label>
        </div>

        <div class="col-lg-4">
            <div class="radio">
                <label>
                    <input type="radio" name="recordXmlData" ng-model="environment.recordXmlData" value="yes" ng-checked="environment.recordXmlData == 'yes'"> Yes
                </label>
            </div>
            <div class="radio">
                <label>
                    <input type="radio" name="recordXmlData" ng-model="environment.recordXmlData" value="no" ng-checked="environment.recordXmlData == 'no'"> No
                </label>
            </div>
        </div>

    </div>

    <div class="form-group">
        <div class="col-lg-4">
            <label class="control-label"> Record Data, Check this if you want to record Data (startTime, responseTime,
                etc...) on Request for ALL services attached to this environment. If it is unchecked, you can see requests
                on live page only and no stats are computed for this environment. You must check this if you want to record
                XML Data : </label>
        </div>

        <div class="col-lg-4">
            <div class="radio">
                <label>
                    <input type="radio" name="recordData" ng-model="environment.recordData" value='yes' ng-checked="environment.recordData == 'yes'"> Yes
                </label>
            </div>
            <div class="radio">
                <label>
                    <input type="radio" name="recordData" ng-model="environment.recordData" value='no' ng-checked="environment.recordData == 'no'"> No
                </label>
            </div>
        </div>

    </div>

    <div class="form-group">
        <div class="col-lg-offset-2 col-lg-10">
            <a href="#/environments" class="btn btn-default">Cancel</a>
            <button ng-click="save()" ng-disabled="isClean() || myForm.$invalid"
                    class="btn btn-primary">Save
            </button>
            <button ng-click="destroy()"
                    ng-show="environment.id > 0" class="btn btn-danger">Delete
            </button>
        </div>
    </div>
</form>